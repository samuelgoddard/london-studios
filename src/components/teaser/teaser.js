import React from "react"
import PropTypes from "prop-types"
import { Link } from "gatsby"
import Img from "gatsby-image"

class Teaser extends React.Component {
  render() {
    const color = { color: this.props.color };
    return (
      <Link className="m-teaser block relative" to={`/locations/${this.props.slug}`}>
        
        { !this.props.active && !this.props.archived && (
          <div className="absolute top-0 right-0 w-1/5 sm:w-1/6 md:w-1/4 lg:w-1/5 xl:w-1/6 z-10 mt-5 mr-5">
            <svg className="w-full rotating" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 132"><path fill="#FFF" d="M29.084 113.458c1.388-3.624 4.861-5.142 8.111-3.897 3.362 1.288 4.473 4.09 3.538 7.202l-1.598-.526c.7-2.217-.041-4.364-2.47-5.294-2.39-.916-4.81.256-5.918 3.151-1.11 2.895-.092 5.384 2.298 6.3 2.428.93 4.414-.173 5.375-2.29l1.54.676c-1.383 2.94-4.082 4.283-7.444 2.996-3.25-1.245-4.82-4.695-3.432-8.318zm42.442 9.907c.706 3.815-1.366 6.904-4.965 7.57-3.619.67-6.64-1.476-7.346-5.291-.706-3.815 1.347-6.9 4.965-7.57 3.6-.666 6.64 1.476 7.346 5.291zm-1.77.328c-.56-3.029-2.632-4.659-5.306-4.164-2.675.495-4.045 2.762-3.485 5.79.561 3.03 2.652 4.656 5.327 4.161 2.674-.495 4.025-2.759 3.464-5.787zm31.177-3.353l-1.187.85-9.418-6.587-.066.046 6.313 8.812-1.316.944-7.338-10.243 2.26-1.619 8.852 6.279.05-.035-3.245-10.297 2.228-1.596 7.338 10.243-1.415 1.013-6.313-8.812-.065.047 3.322 10.955zm10.52-25.657l.574-1.643 11.894 4.159-.574 1.642-11.894-4.158zm7.506-21.447l8.614-8.144-9.55 1.308-.22-1.605 12.483-1.71.187 1.367-9.033 8.626 10.026-1.373.22 1.605-12.483 1.71-.244-1.784zm4.01-39.146c2.24 2.768 1.825 6.422-1.222 8.887-3.016 2.441-6.77 2.031-8.959-.674-2.24-2.768-1.996-5.614.369-7.811l1.122 1.228c-1.7 1.555-1.95 3.662-.353 5.636 1.623 2.006 4.292 2.188 6.717.225 2.425-1.962 2.776-4.613 1.065-6.728-1.485-1.834-3.591-2.085-5.409-.897l2.416 2.985-1.057.856-3.41-4.214 4.835-3.913.994 1.229-1.741 1.409c1.596-.571 3.4.259 4.633 1.782zM79.724 5.252l-1.554.168c-.2-2.293-1.83-3.403-3.948-3.311-1.878.082-3.022.933-2.962 2.311.05 1.16.834 1.685 2.487 1.934l2.518.37c1.874.279 3.197 1.222 3.282 3.18.096 2.198-1.577 3.773-4.335 3.893-3.157.138-5.048-1.462-5.192-4.298l1.575-.149c.15 2.076 1.461 3.2 3.54 3.109 1.817-.08 2.799-.983 2.738-2.382-.054-1.238-.89-1.602-2.362-1.818l-2.297-.34c-2.317-.34-3.52-1.288-3.607-3.307C69.506 2.295 71.445.87 74.163.75c3.097-.135 5.429 1.465 5.561 4.502zm-41.143 9.439c-2.118-3.251-1.392-6.9 1.675-8.897 3.083-2.009 6.697-1.188 8.815 2.062 2.118 3.251 1.408 6.889-1.675 8.897-3.067 1.998-6.698 1.189-8.815-2.062zm1.508-.983c1.681 2.58 4.22 3.29 6.499 1.805s2.673-4.104.991-6.685c-1.68-2.58-4.236-3.279-6.515-1.794-2.28 1.485-2.656 4.093-.975 6.674zm-24.233 22.97c-3.513-1.647-4.818-5.13-3.264-8.444 1.562-3.332 5.066-4.54 8.579-2.892 3.513 1.647 4.826 5.112 3.264 8.444-1.554 3.314-5.066 4.539-8.579 2.892zm.764-1.63c2.79 1.308 5.32.573 6.475-1.89 1.155-2.463.11-4.897-2.68-6.204-2.788-1.308-5.328-.555-6.483 1.908-1.154 2.463-.1 4.879 2.688 6.186zm-3.464 21.59l-8.86 7.876 9.586-1.015.17 1.61-12.53 1.327-.144-1.372 9.293-8.345L.607 57.785l-.17-1.611 12.53-1.327.189 1.79z"/></svg>
          </div>
        )}
        { this.props.archived && (
          <div className="absolute top-0 right-0 w-1/5 sm:w-1/6 md:w-1/4 lg:w-1/5 xl:w-1/6 z-10 mt-5 mr-5">
            <svg className="w-full rotating" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 132"><path d="M13.593 69.564l.375 1.863-11.317 7.625-.363-1.804 3.327-2.22L4.48 69.4l-3.919-.72-.336-1.667 13.367 2.551zm-1.716 1.203l-5.936-1.11.916 4.549 5.036-3.36-.016-.08zm-.692 30.007l-.971-1.516c.156-.386.834-1.033 2.026-1.916 1.136-.823 1.571-1.886.643-3.334l-1.92-2.997-4.278 2.74-.917-1.43 10.609-6.799 2.762 4.311c1.727 2.694 1.311 4.79-.575 5.998-1.633 1.047-3.204.486-4.186-.714.578 1.459.186 2.589-.996 3.488-1.463 1.128-2.036 1.567-2.197 2.169zm.94-10.508l1.79 2.795c1.155 1.802 2.347 2.179 3.66 1.337 1.212-.777 1.47-2.081.315-3.883l-1.792-2.795-3.974 2.546zm10.193 16.583c2.274-3.143 6.02-3.715 8.84-1.675 2.917 2.11 3.268 5.105 1.563 7.87l-1.408-.92c1.247-1.961 1.084-4.227-1.022-5.751-2.074-1.5-4.714-.992-6.531 1.52-1.818 2.511-1.476 5.178.598 6.679 2.106 1.524 4.309.97 5.783-.827l1.314 1.05c-2.094 2.483-5.048 3.086-7.965.976-2.82-2.04-3.447-5.778-1.172-8.922zm19.367 20.407l-1.69-.412 2.985-12.241 1.69.412-1.279 5.246 7.034 1.716 1.28-5.246 1.69.412-2.985 12.241-1.69-.412 1.369-5.616-7.034-1.715-1.37 5.615zm22.071-7.319l1.735-.132.956 12.564-1.735.132-.956-12.564zm22.866 8.677l-1.74.713-9.463-9.736 1.646-.676 7.965 8.19.074-.03-.193-11.379 1.628-.668.083 13.586zm22.744-14.676l.982 1.053-6.568 6.124-8.592-9.216 6.436-6.001.982 1.053-5.207 4.855 2.7 2.897 4.14-3.86.968 1.039-4.14 3.86 2.96 3.174 5.34-4.978zm10.532-11.12l1.192-2.445c1.35-2.769.45-5.076-2.3-6.417-2.752-1.341-5.124-.629-6.473 2.14l-1.192 2.445 8.773 4.277zm.514 2.186l-11.326-5.521 1.998-4.1c1.735-3.559 4.952-4.772 8.494-3.045 3.541 1.726 4.567 5.008 2.832 8.567l-1.998 4.099zm.12-36.695l-.245-1.723 11.047-1.578-.993-6.95 1.426-.203 1.239 8.672-12.473 1.782zm-2.341-30.766c3.395-1.878 6.981-.89 8.753 2.312 1.782 3.22.703 6.765-2.692 8.643-3.395 1.879-6.971.91-8.753-2.311-1.772-3.202-.703-6.765 2.692-8.644zm.871 1.575c-2.695 1.491-3.585 3.973-2.268 6.353 1.317 2.38 3.901 2.961 6.596 1.47 2.695-1.491 3.576-3.99 2.26-6.37-1.318-2.38-3.893-2.944-6.588-1.453zm-6.039-11.382c-2.44 3.017-6.211 3.388-8.917 1.2-2.8-2.263-2.99-5.272-1.14-7.943l1.357.994c-1.35 1.892-1.308 4.163.713 5.798 1.991 1.61 4.654 1.243 6.603-1.168 1.95-2.41 1.75-5.092-.24-6.701-2.022-1.635-4.251-1.2-5.819.516l-1.256-1.118c2.224-2.369 5.206-2.813 8.006-.55 2.706 2.189 3.133 5.955.693 8.972zM88.97 17.8l-1.81-.58-1.146-13.597 1.753.561.318 3.987 5.467 1.752L96.09 6.85l1.619.52-8.74 10.43zm-.214-2.085l3.86-4.643-4.418-1.416.482 6.035.076.024zM68.85.575l1.718-.082.527 11.147 4.575-.216.068 1.439-10.948.517-.068-1.438 4.655-.22L68.851.574zm-14.092 13.06l-1.63.606L48.74 2.43l1.631-.606 4.387 11.812zm-25.062 6.662c-2.427-3.027-2.062-6.729.794-9.018 2.871-2.302 6.548-1.84 8.974 1.187 2.427 3.028 2.078 6.717-.794 9.019-2.855 2.289-6.548 1.84-8.974-1.188zm1.404-1.126c1.926 2.403 4.522 2.86 6.645 1.159 2.122-1.701 2.257-4.347.33-6.75-1.926-2.403-4.537-2.848-6.66-1.146-2.122 1.7-2.241 4.334-.315 6.737zm-5.847 13.034l-11.78 1.333 8.42 4.694-.788 1.415L10.1 33.51l.672-1.205 12.404-1.466-8.84-4.928.79-1.415 11.005 6.136-.877 1.572z" fill="#FFF" fill-rule="nonzero"/></svg>
          </div>
        )}

        <div className="w-full max-h-64 overflow-hidden">
          <Img
            fluid={this.props.image}
            className={this.props.active ? `m-teaser__img is--active` : `m-teaser__img`}
          />
        </div>

        <span className="block m-teaser__title h2 relative z-10">{this.props.titlePrefix}</span>
        <h2 style={color} className={`block mb-0 leading-none mb-2 lg:mb-4`}>{this.props.title}</h2>

        { this.props.meta && (
          <span className="block m-teaser__meta">{this.props.meta}</span>
        )}
      </Link>
    );
  }
}

Teaser.defaultProps = {
  slug: ``,
  title: ``,
  titlePrefix: ``,
  color: ``,
  image: {},
  meta: ``,
  active: true,
  disabled: true,
}

Teaser.propTypes = {
  slug: PropTypes.string.isRequired,
  title: PropTypes.string.isRequired,
  titlePrefix: PropTypes.string,
  color: PropTypes.string,
  image: PropTypes.object.isRequired,
  meta: PropTypes.string,
  active: PropTypes.bool,
  disabled: PropTypes.bool,
}

export default Teaser
